{"mappings":"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","sources":["src/index.js","src/js/pagination.js"],"sourcesContent":["// import pageHeaderAutoSize from './js/service/pageheaderautosize';\nimport { mask } from './js/loader';\nimport { paginationFeach } from './js/pagination';\nimport * as teamModal from './js/team-members';\nimport toggleModal from './js/modal';\nimport searchByName from './js/searchByName';\nimport theme from './js/theme';\nimport addToQueueOrWatched from './js/add-to-queue-or-watched'\nimport languageApi from './js/language-changer'\n// pageHeaderAutoSize()\n// toggleModal();\n\npaginationFeach();\n","import * as paginationFunctions from './pagination-functions';\nimport onLoad from './onLoad';\nimport apiService from './apiService';\nimport localstorage from './service/localstorage';\n\nconst NUMBER_PAGINATION = 5;\nconst cardContainerEl = document.querySelector('.gallery');\nconst paginationEl = document.querySelector('.pagination__box');\nconst paginationContainerEl = document.querySelector('.pagination__container');\nconst formRef = document.querySelector('#search-form');\n\nfunction getFilmsFromStoradge() {\n  const savedFilms = localStorage.getItem('currentFilms') || {};\n  try {\n    const parsedSavedFilms = JSON.parse(savedFilms);\n    const pageNumber = parsedSavedFilms.total_pages;\n\n    return pageNumber;\n  } catch {\n    console.log('nothing');\n  }\n}\n\nexport async function paginationFeach() {\n  const totalPages = Math.min(getFilmsFromStoradge(), 500);\n\n  await onLoad();\n\n  if (totalPages <= NUMBER_PAGINATION + 2 && totalPages >= 1) {\n    paginationFunctions.displayPaginationSmall(totalPages, paginationEl);\n    document\n      .querySelector('.js-page-1')\n      .classList.add('pagination__item--select');\n\n    if (totalPages === 1) {\n      paginationFunctions.clearPagination(paginationEl);\n    }\n\n    paginationEl.addEventListener('click', onPaginationBtnClick);\n    formRef.addEventListener('submit', onFormClickSmall);\n\n    function onFormClickSmall() {\n      paginationEl.removeEventListener('click', onPaginationBtnClick);\n      paginationContainerEl.removeEventListener('click', onPaginationClick);\n    }\n    return;\n  }\n\n  paginationEl.innerHTML = '';\n\n  paginationFunctions.displayPaginationBig(\n    totalPages,\n    paginationContainerEl,\n    paginationEl\n  );\n  document\n    .querySelector('.js-page-1')\n    .classList.add('pagination__item--select');\n\n  const btnLeft = document.querySelector('.pagination__btnLeft');\n  const btnRight = document.querySelector('.pagination__btnRight');\n\n  btnLeft.disabled = true;\n\n  paginationContainerEl.addEventListener('click', onPaginationClick);\n\n  function onPaginationClick(e) {\n    e.preventDefault();\n\n    if (\n      !e.target.classList.contains('pagination__item') &&\n      !e.target.classList.contains('pagination__btnLeft') &&\n      !e.target.classList.contains('pagination__btnRight')\n    ) {\n      return;\n    }\n\n    if (e.target.classList.contains('pagination__item')) {\n      const currentPage = Number(e.target.textContent);\n\n      onBigPaginationBtnClickrRenderFilms(currentPage);\n      onBigPaginationBtnClickrRenderPagination(totalPages, currentPage);\n\n      paginationFunctions.activityArrows(currentPage, totalPages);\n    }\n\n    if (e.target.classList.contains('pagination__btnLeft')) {\n      const activePage = document.querySelector('.pagination__item--select');\n      const activePageNumber = Number(activePage.textContent);\n      const previousPage = activePageNumber - 1;\n\n      onBigPaginationBtnClickrRenderFilms(previousPage);\n      onBigPaginationBtnClickrRenderPagination(totalPages, previousPage);\n\n      paginationFunctions.activityOfLeftArrow(1);\n    }\n\n    if (e.target.classList.contains('pagination__btnRight')) {\n      const activePage = document.querySelector('.pagination__item--select');\n      const activePageNumber = Number(activePage.textContent);\n      const nextPage = activePageNumber + 1;\n\n      onBigPaginationBtnClickrRenderFilms(nextPage);\n      onBigPaginationBtnClickrRenderPagination(totalPages, nextPage);\n\n      paginationFunctions.activityOfRightArrow(totalPages);\n    }\n  }\n\n  formRef.addEventListener('submit', onFormClick);\n\n  function onFormClick() {\n    paginationContainerEl.removeEventListener('click', onPaginationClick);\n    paginationEl.removeEventListener('click', onPaginationBtnClick);\n  }\n}\n\nfunction onBigPaginationBtnClickrRenderPagination(totalPages, currentPage) {\n  paginationFunctions.clearPagination(paginationEl);\n\n  const n = NUMBER_PAGINATION - (Math.ceil(NUMBER_PAGINATION / 3) - 2);\n  const m = totalPages - (NUMBER_PAGINATION - 1);\n\n  if (currentPage < n) {\n    paginationFunctions.displayPaginationBig(\n      totalPages,\n      paginationContainerEl,\n      paginationEl\n    );\n  } else if (currentPage >= n && currentPage <= m) {\n    paginationFunctions.displayPaginationBigMiddle(\n      totalPages,\n      currentPage,\n      paginationContainerEl,\n      paginationEl\n    );\n  } else {\n    paginationFunctions.displayPaginationBigFinish(\n      totalPages,\n      paginationContainerEl,\n      paginationEl\n    );\n  }\n\n  document\n    .querySelector(`.js-page-${currentPage}`)\n    ?.classList.add('pagination__item--select');\n}\n\nasync function onBigPaginationBtnClickrRenderFilms(currentPage) {\n  cardContainerEl.innerHTML = '';\n  apiService.pageNumber = currentPage;\n\n  await onLoad();\n}\n\nasync function onPaginationBtnClick(e) {\n  if (!e.target.classList.contains('pagination__item')) {\n    return;\n  }\n  cardContainerEl.innerHTML = '';\n  apiService.pageNumber = Number(e.target.textContent);\n\n  await onLoad();\n\n  document\n    .querySelector(`.js-page-${currentPage}`)\n    .classList.add('pagination__item--select');\n}\n"],"names":["parcelRequire","$1fh5F","$1bab9c519cfa82bc$var$cardContainerEl","document","querySelector","$1bab9c519cfa82bc$var$paginationEl","$1bab9c519cfa82bc$var$paginationContainerEl","$1bab9c519cfa82bc$var$formRef","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderPagination","totalPages","currentPage","clearPagination","n","Math","ceil","m","displayPaginationBig","displayPaginationBigMiddle","displayPaginationBigFinish","classList","add","async","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderFilms","innerHTML","$iyB0E","default","pageNumber","$8ykkE","$1bab9c519cfa82bc$var$onPaginationBtnClick","e","target","contains","Number","textContent","min","savedFilms","localStorage","getItem","JSON","parse","total_pages","console","log","$1bab9c519cfa82bc$var$getFilmsFromStoradge","$1bab9c519cfa82bc$var$NUMBER_PAGINATION","displayPaginationSmall","addEventListener","removeEventListener","onPaginationClick","btnLeft","preventDefault","activityArrows","activePage","previousPage","activityOfLeftArrow","nextPage","activityOfRightArrow","disabled"],"version":3,"file":"index.476875c8.js.map"}